--- src/Terraria/Terraria/MessageBuffer.cs
+++ src/Tea/Terraria/MessageBuffer.cs
@@ -17,6 +_,7 @@
 using Terraria.ID;
 using Terraria.Localization;
 using Terraria.Net;
+using Terraria.Tea;
 using Terraria.Testing;
 using Terraria.UI;
 
@@ -1141,7 +_,7 @@
 							Item item2 = Main.item[num72];
 							ItemSyncPersistentStats itemSyncPersistentStats = default(ItemSyncPersistentStats);
 							itemSyncPersistentStats.CopyFrom(item2);
-							bool newAndShiny = (item2.newAndShiny || item2.netID != num71) && ItemSlot.Options.HighlightNewItems && (num71 < 0 || num71 >= 5045 || !ItemID.Sets.NeverAppearsAsNewInInventory[num71]);
+							bool newAndShiny = (item2.newAndShiny || item2.netID != num71) && ItemSlot.Options.HighlightNewItems && (num71 < 0 || num71 >= ItemLoader.Count || !ItemID.Sets.NeverAppearsAsNewInInventory[num71]);
 							item2.netDefaults(num71);
 							item2.newAndShiny = newAndShiny;
 							item2.Prefix(pre2);
